<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>Read a BLOB from the database</title>

 </head>
 <body><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="function.fbsql-query.html">fbsql_query</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="function.fbsql-read-clob.html">fbsql_read_clob</a></div>
 <div class="up"><a href="ref.fbsql.html">FrontBase Functions</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div><hr /><div id="function.fbsql-read-blob" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">fbsql_read_blob</h1>
  <p class="verinfo">(PHP 4 &gt;= 4.2.0, PHP 5)</p><p class="refpurpose"><span class="refname">fbsql_read_blob</span> &mdash; <span class="dc-title">Read a BLOB from the database</span></p>

 </div>
 
 <div class="refsect1 description" id="refsect1-function.fbsql-read-blob-description">
  <h3 class="title">Description</h3>
  <div class="methodsynopsis dc-description">
   <span class="type">string</span> <span class="methodname"><strong>fbsql_read_blob</strong></span>
    ( <span class="methodparam"><span class="type">string</span> <code class="parameter">$blob_handle</code></span>
   [, <span class="methodparam"><span class="type">resource</span> <code class="parameter">$link_identifier</code></span>
  ] )</div>

  <p class="para rdfs-comment">
   Reads BLOB data from the database.
  </p>
  <p class="para">
   If a select statement contains BLOB and/or CLOB columns FrontBase will
   return the data directly when data is fetched. This default behavior can
   be changed with  <span class="function"><a href="function.fbsql-set-lob-mode.html" class="function">fbsql_set_lob_mode()</a></span> so the fetch
   functions will return handles to BLOB and CLOB data.  If a handle is
   fetched a user must call  <span class="function"><strong>fbsql_read_blob()</strong></span> to get the
   actual BLOB data from the database.
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.fbsql-read-blob-parameters">
  <h3 class="title">Parameters</h3>
  <p class="para">
   <dl>

    <dt>

     <span class="term"><em><code class="parameter">blob_handle</code></em></span>
     <dd>

      <p class="para">
       A BLOB handle, returned by  <span class="function"><a href="function.fbsql-create-blob.html" class="function">fbsql_create_blob()</a></span>.
      </p>
     </dd>

    </dt>

    <dt>
<span class="term"><em><code class="parameter">
link_identifier</code></em></span><dd>
<p class="para">A FrontBase link identifier
returned by  <span class="function"><a href="function.fbsql-connect.html" class="function">fbsql_connect()</a></span> or
 <span class="function"><a href="function.fbsql-pconnect.html" class="function">fbsql_pconnect()</a></span>.</p><p class="para">If optional and not specified,
the function will try to find an open link to the FrontBase server and if no
such link is found it will try to create one as if
 <span class="function"><a href="function.fbsql-connect.html" class="function">fbsql_connect()</a></span> was called with no arguments.</p>
</dd>
</dt>

   </dl>

  </p>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.fbsql-read-blob-returnvalues">
  <h3 class="title">Return Values</h3>
  <p class="para">
   Returns a string containing the specified BLOB data.
  </p>
 </div>


 <div class="refsect1 examples" id="refsect1-function.fbsql-read-blob-examples">
  <h3 class="title">Examples</h3>
  <p class="para">
   <div class="example" id="example-1185">
    <p><strong>Example #1  <span class="function"><strong>fbsql_read_blob()</strong></span> example</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />$link&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">fbsql_pconnect</span><span style="color: #007700">(</span><span style="color: #DD0000">"localhost"</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"_SYSTEM"</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"secret"</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;or&nbsp;die(</span><span style="color: #DD0000">"Could&nbsp;not&nbsp;connect"</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$sql&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">"SELECT&nbsp;BLOB_COLUMN&nbsp;FROM&nbsp;BLOB_TABLE;"</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$rs&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">fbsql_query</span><span style="color: #007700">(</span><span style="color: #0000BB">$sql</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$link</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$row_data&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">fbsql_fetch_row</span><span style="color: #007700">(</span><span style="color: #0000BB">$rs</span><span style="color: #007700">);<br /></span><span style="color: #FF8000">//&nbsp;$row_data[0]&nbsp;will&nbsp;now&nbsp;contain&nbsp;the&nbsp;blob&nbsp;data&nbsp;for&nbsp;the&nbsp;first&nbsp;row<br /></span><span style="color: #0000BB">fbsql_free_result</span><span style="color: #007700">(</span><span style="color: #0000BB">$rs</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">$rs&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">fbsql_query</span><span style="color: #007700">(</span><span style="color: #0000BB">$sql</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$link</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">fbsql_set_lob_mode</span><span style="color: #007700">(</span><span style="color: #0000BB">$rs</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">FBSQL_LOB_HANDLE</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$row_data&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">fbsql_fetch_row</span><span style="color: #007700">(</span><span style="color: #0000BB">$rs</span><span style="color: #007700">);<br /></span><span style="color: #FF8000">//&nbsp;$row_data[0]&nbsp;will&nbsp;now&nbsp;contain&nbsp;a&nbsp;handle&nbsp;to&nbsp;the&nbsp;BLOB&nbsp;data&nbsp;in&nbsp;the&nbsp;first&nbsp;row<br /></span><span style="color: #0000BB">$blob_data&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">fbsql_read_blob</span><span style="color: #007700">(</span><span style="color: #0000BB">$row_data</span><span style="color: #007700">[</span><span style="color: #0000BB">0</span><span style="color: #007700">]);<br /></span><span style="color: #0000BB">fbsql_free_result</span><span style="color: #007700">(</span><span style="color: #0000BB">$rs</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
  </p>
 </div>


 <div class="refsect1 seealso" id="refsect1-function.fbsql-read-blob-seealso">
  <h3 class="title">See Also</h3>
  <p class="para">
   <ul class="simplelist">
    <li class="member"> <span class="function"><a href="function.fbsql-create-blob.html" class="function" rel="rdfs-seeAlso">fbsql_create_blob()</a> - Create a BLOB</span></li>
    <li class="member"> <span class="function"><a href="function.fbsql-read-clob.html" class="function" rel="rdfs-seeAlso">fbsql_read_clob()</a> - Read a CLOB from the database</span></li>
    <li class="member"> <span class="function"><a href="function.fbsql-set-lob-mode.html" class="function" rel="rdfs-seeAlso">fbsql_set_lob_mode()</a> - Set the LOB retrieve mode for a FrontBase result set</span></li>
   </ul>
  </p>
 </div>


</div><hr /><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="function.fbsql-query.html">fbsql_query</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="function.fbsql-read-clob.html">fbsql_read_clob</a></div>
 <div class="up"><a href="ref.fbsql.html">FrontBase Functions</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div></body></html>
