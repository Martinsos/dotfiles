<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>Convert a true color image to a palette image</title>

 </head>
 <body><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="function.imagesy.html">imagesy</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="function.imagettfbbox.html">imagettfbbox</a></div>
 <div class="up"><a href="ref.image.html">GD and Image Functions</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div><hr /><div id="function.imagetruecolortopalette" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">imagetruecolortopalette</h1>
  <p class="verinfo">(PHP 4 &gt;= 4.0.6, PHP 5)</p><p class="refpurpose"><span class="refname">imagetruecolortopalette</span> &mdash; <span class="dc-title">Convert a true color image to a palette image</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-function.imagetruecolortopalette-description">
  <h3 class="title">Description</h3>
  <div class="methodsynopsis dc-description">
   <span class="type">bool</span> <span class="methodname"><strong>imagetruecolortopalette</strong></span>
    ( <span class="methodparam"><span class="type">resource</span> <code class="parameter">$image</code></span>
   , <span class="methodparam"><span class="type">bool</span> <code class="parameter">$dither</code></span>
   , <span class="methodparam"><span class="type">int</span> <code class="parameter">$ncolors</code></span>
   )</div>

  <p class="para rdfs-comment">
    <span class="function"><strong>imagetruecolortopalette()</strong></span> converts a truecolor image
   to a palette image. The code for this function was originally drawn from
   the Independent JPEG Group library code, which is excellent. The code
   has been modified to preserve as much alpha channel information as
   possible in the resulting palette, in addition to preserving colors as
   well as possible. This does not work as well as might be hoped. It is
   usually best to simply produce a truecolor output image instead, which
   guarantees the highest output quality.
  </p>
 </div>

 <div class="refsect1 parameters" id="refsect1-function.imagetruecolortopalette-parameters">
  <h3 class="title">Parameters</h3>
  <p class="para">
   <dl>

    <dt>
<span class="term"><em><code class="parameter">
image</code></em></span><dd>
<p class="para">An image resource, returned by one of the image creation functions,
such as  <span class="function"><a href="function.imagecreatetruecolor.html" class="function">imagecreatetruecolor()</a></span>.</p></dd>
</dt>

    <dt>

     <span class="term"><em><code class="parameter">dither</code></em></span>
     <dd>

      <p class="para">
       Indicates if the image should be dithered - if it is <strong><code>TRUE</code></strong> then
       dithering will be used which will result in a more speckled image but
       with better color approximation.
      </p>
     </dd>

    </dt>

    <dt>

     <span class="term"><em><code class="parameter">ncolors</code></em></span>
     <dd>

      <p class="para">
       Sets the maximum number of colors that should be retained in the palette.
      </p>
     </dd>

    </dt>

   </dl>

  </p>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-function.imagetruecolortopalette-returnvalues">
  <h3 class="title">Return Values</h3>
  <p class="para">
   Returns <strong><code>TRUE</code></strong> on success or <strong><code>FALSE</code></strong> on failure.
  </p>
 </div>

 <div class="refsect1 examples" id="refsect1-function.imagetruecolortopalette-examples">
  <h3 class="title">Examples</h3>
  <p class="para">
   <div class="example" id="example-3104">
    <p><strong>Example #1 Converting a true color image to a palette-based image</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #FF8000">//&nbsp;Create&nbsp;a&nbsp;new&nbsp;true&nbsp;color&nbsp;image<br /></span><span style="color: #0000BB">$im&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">imagecreatetruecolor</span><span style="color: #007700">(</span><span style="color: #0000BB">100</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">100</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;Convert&nbsp;to&nbsp;palette-based&nbsp;with&nbsp;no&nbsp;dithering&nbsp;and&nbsp;255&nbsp;colors<br /></span><span style="color: #0000BB">imagetruecolortopalette</span><span style="color: #007700">(</span><span style="color: #0000BB">$im</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">false</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">255</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;Save&nbsp;the&nbsp;image<br /></span><span style="color: #0000BB">imagepng</span><span style="color: #007700">(</span><span style="color: #0000BB">$im</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'./paletteimage.png'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">imagedestroy</span><span style="color: #007700">(</span><span style="color: #0000BB">$im</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
  </p>
 </div>

 <div class="refsect1 notes" id="refsect1-function.imagetruecolortopalette-notes">
  <h3 class="title">Notes</h3>
  <blockquote class="note"><p><strong class="note">Note</strong>: <span class="simpara">This function requires GD 2.0.1 or later (2.0.28 or later is recommended).</span></p></blockquote>
 </div>

</div><hr /><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="function.imagesy.html">imagesy</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="function.imagettfbbox.html">imagettfbbox</a></div>
 <div class="up"><a href="ref.image.html">GD and Image Functions</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div></body></html>
