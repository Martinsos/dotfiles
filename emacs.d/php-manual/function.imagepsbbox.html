<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>Give the bounding box of a text rectangle using PostScript Type1 fonts</title>

 </head>
 <body><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="function.imagepolygon.html">imagepolygon</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="function.imagepsencodefont.html">imagepsencodefont</a></div>
 <div class="up"><a href="ref.image.html">GD and Image Functions</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div><hr /><div id="function.imagepsbbox" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">imagepsbbox</h1>
  <p class="verinfo">(PHP 4, PHP 5)</p><p class="refpurpose"><span class="refname">imagepsbbox</span> &mdash; <span class="dc-title">Give the bounding box of a text rectangle using PostScript Type1 fonts</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-function.imagepsbbox-description">
  <h3 class="title">Description</h3>
  <div class="methodsynopsis dc-description">
   <span class="type">array</span> <span class="methodname"><strong>imagepsbbox</strong></span>
    ( <span class="methodparam"><span class="type">string</span> <code class="parameter">$text</code></span>
   , <span class="methodparam"><span class="type">resource</span> <code class="parameter">$font</code></span>
   , <span class="methodparam"><span class="type">int</span> <code class="parameter">$size</code></span>
   )</div>

  <div class="methodsynopsis dc-description">
   <span class="type">array</span> <span class="methodname"><strong>imagepsbbox</strong></span>
    ( <span class="methodparam"><span class="type">string</span> <code class="parameter">$text</code></span>
   , <span class="methodparam"><span class="type">resource</span> <code class="parameter">$font</code></span>
   , <span class="methodparam"><span class="type">int</span> <code class="parameter">$size</code></span>
   , <span class="methodparam"><span class="type">int</span> <code class="parameter">$space</code></span>
   , <span class="methodparam"><span class="type">int</span> <code class="parameter">$tightness</code></span>
   , <span class="methodparam"><span class="type">float</span> <code class="parameter">$angle</code></span>
   )</div>

  <p class="para rdfs-comment">
   Gives the bounding box of a text rectangle using PostScript Type1 fonts.
  </p>
  <p class="para">
   The bounding box is calculated using information available from character
   metrics, and unfortunately tends to differ slightly from the results 
   achieved by actually rasterizing the text. If the angle is 0 degrees, you
   can expect the text to need 1 pixel more to every direction.
  </p>
 </div>

 <div class="refsect1 parameters" id="refsect1-function.imagepsbbox-parameters">
  <h3 class="title">Parameters</h3>
  <p class="para">
   <dl>

    <dt>

     <span class="term"><em><code class="parameter">text</code></em></span>
     <dd>

      <p class="para">
       The text to be written.
      </p>
     </dd>

    </dt>

    <dt>

     <span class="term"><em><code class="parameter">font_index</code></em></span>
     <dd>

      <p class="para">
       A font resource, returned by  <span class="function"><a href="function.imagepsloadfont.html" class="function">imagepsloadfont()</a></span>.
      </p>
     </dd>

    </dt>

    <dt>

     <span class="term"><em><code class="parameter">size</code></em></span>
     <dd>

      <p class="para">
       <em><code class="parameter">size</code></em> is expressed in pixels.
      </p>
     </dd>

    </dt>

    <dt>

     <span class="term"><em><code class="parameter">space</code></em></span>
     <dd>

      <p class="para">
       Allows you to change the default value of a space in a font.  This
       amount is added to the normal value and can also be negative. 
       Expressed in character space units, where 1 unit is 1/1000th of an
       em-square.
      </p>
     </dd>

    </dt>

    <dt>

     <span class="term"><em><code class="parameter">tightness</code></em></span>
     <dd>

      <p class="para">
       <em><code class="parameter">tightness</code></em> allows you to control the amount
       of white space between characters. This amount is added to the
       normal character width and can also be negative.
       Expressed in character space units, where 1 unit is 1/1000th of an
       em-square.
      </p>
     </dd>

    </dt>

    <dt>

     <span class="term"><em><code class="parameter">angle</code></em></span>
     <dd>

      <p class="para">
       <em><code class="parameter">angle</code></em> is in degrees.
      </p>
     </dd>

    </dt>

   </dl>

  </p>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-function.imagepsbbox-returnvalues">
  <h3 class="title">Return Values</h3>
  <p class="para">
   Returns an array containing the following elements:
   <table class="doctable informaltable">
    
     <tbody class="tbody">
      <tr>
       <td>0</td>
       <td>left x-coordinate</td>
      </tr>

      <tr>
       <td>1</td>
       <td>upper y-coordinate</td>
      </tr>

      <tr>
       <td>2</td>
       <td>right x-coordinate</td>
      </tr>

      <tr>
       <td>3</td>
       <td>lower y-coordinate</td>
      </tr>

     </tbody>
    
   </table>

  </p>
 </div>

 <div class="refsect1 examples" id="refsect1-function.imagepsbbox-examples">
  <h3 class="title">Examples</h3>
  <div class="example" id="example-3085">
   <p><strong>Example #1  <span class="function"><strong>imagepsbbox()</strong></span> usage</strong></p>
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #FF8000">//&nbsp;Create&nbsp;image&nbsp;handle<br /></span><span style="color: #0000BB">$im&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">imagecreatetruecolor</span><span style="color: #007700">(</span><span style="color: #0000BB">200</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">200</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;Allocate&nbsp;colors<br /></span><span style="color: #0000BB">$black&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">imagecolorallocate</span><span style="color: #007700">(</span><span style="color: #0000BB">$im</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$white&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">imagecolorallocate</span><span style="color: #007700">(</span><span style="color: #0000BB">$im</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">255</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">255</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">255</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;Load&nbsp;the&nbsp;PostScript&nbsp;Font<br /></span><span style="color: #0000BB">$font&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">imagepsloadfont</span><span style="color: #007700">(</span><span style="color: #DD0000">'font.pfm'</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;Make&nbsp;a&nbsp;bounding&nbsp;box&nbsp;for&nbsp;the&nbsp;font<br /></span><span style="color: #0000BB">$bbox&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">imagepsbbox</span><span style="color: #007700">(</span><span style="color: #DD0000">'Sample&nbsp;text&nbsp;is&nbsp;simple'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$font</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">12</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;Define&nbsp;our&nbsp;X&nbsp;and&nbsp;Y&nbsp;cordinates<br /></span><span style="color: #0000BB">$x&nbsp;</span><span style="color: #007700">=&nbsp;(</span><span style="color: #0000BB">$bbox</span><span style="color: #007700">[</span><span style="color: #0000BB">2</span><span style="color: #007700">]&nbsp;/&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">)&nbsp;-&nbsp;</span><span style="color: #0000BB">10</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$y&nbsp;</span><span style="color: #007700">=&nbsp;(</span><span style="color: #0000BB">$bbox</span><span style="color: #007700">[</span><span style="color: #0000BB">3</span><span style="color: #007700">]&nbsp;/&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">)&nbsp;-&nbsp;</span><span style="color: #0000BB">10</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">//&nbsp;Write&nbsp;the&nbsp;font&nbsp;to&nbsp;the&nbsp;image<br /></span><span style="color: #0000BB">imagepstext</span><span style="color: #007700">(</span><span style="color: #0000BB">$im</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'Sample&nbsp;text&nbsp;is&nbsp;simple'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$font</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">12</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$black</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$white</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$x</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$y</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;Output&nbsp;and&nbsp;free&nbsp;memory<br /></span><span style="color: #0000BB">header</span><span style="color: #007700">(</span><span style="color: #DD0000">'Content-type:&nbsp;image/png'</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">imagepng</span><span style="color: #007700">(</span><span style="color: #0000BB">$im</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">imagedestroy</span><span style="color: #007700">(</span><span style="color: #0000BB">$im</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
   </div>

  </div>
 </div>

 <div class="refsect1 notes" id="refsect1-function.imagepsbbox-notes">
  <h3 class="title">Notes</h3>
  <blockquote class="note"><p><strong class="note">Note</strong>: <span class="simpara">This function is only available
if PHP is compiled using <strong class="option configure">--with-t1lib[=DIR]</strong>
.
</span></p></blockquote>
 </div>

 <div class="refsect1 seealso" id="refsect1-function.imagepsbbox-seealso">
  <h3 class="title">See Also</h3>
  <p class="para">
   <ul class="simplelist">
    <li class="member"> <span class="function"><a href="function.imagepstext.html" class="function" rel="rdfs-seeAlso">imagepstext()</a> - Draws a text over an image using PostScript Type1 fonts</span></li>
   </ul>
  </p>
 </div>

</div><hr /><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="function.imagepolygon.html">imagepolygon</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="function.imagepsencodefont.html">imagepsencodefont</a></div>
 <div class="up"><a href="ref.image.html">GD and Image Functions</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div></body></html>
